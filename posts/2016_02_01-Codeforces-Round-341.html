<!doctype html>
<html><!-- InstanceBegin template="/Templates/template.dwt" codeOutsideHTMLIsLocked="false" -->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <script type="text/javascript">
		var targetProtocol = "https:";
		if (window.location.protocol != "file:" && window.location.protocol != targetProtocol)
		window.location.href = targetProtocol +
		window.location.href.substring(window.location.protocol.length);
	</script>
    <!-- InstanceBeginEditable name="doctitle" -->
    <title>zhy's blog|Codeforces Round #341 (Div. 2)</title>
    <!-- InstanceEndEditable -->
    <link rel="shortcut icon" href="../pics/favicon.ico"/>
	<link rel="bookmark" href="../pics/favicon.ico"/>
    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/github-light.css">
	<script src='https://des-payfor.github.io/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <!-- InstanceBeginEditable name="head" -->
  <!-- InstanceEndEditable -->
</head>
  <body>
    <div class="wrapper">
      <header>
        <h1 align="center"><a href="https://zhyack.github.io/" target="_self">Zhy's Blog~</a></h1>
        <p align="center"><a href="https://zhyack.github.io/"><img src = "../pics/Profile.jpg" width="225" height="225"></a></p>


        <p class="view" align="center"><a href="https://github.com/zhyack">View My GitHub Profile</a></p>
        <div>
        <table width=100% border="0">
          <tbody>
            <tr>
              <td height="150">
              <a href="../archive.html"><div class="topiccenter">Archive</div></a>
              <a href="../categories.html"><div class="topiccenter">Categories</div></a>
              <a href="../about.html"><div class="topiccenter">About</div></a>
              <div class="topiccenter"><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1256825058'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1256825058%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></div>
              </td>  
            </tr>
          </tbody>
        </table>
        </div>
      </header>
      <!-- InstanceBeginEditable name="EditArea" -->
      <section>
<h1>Codeforces Round #341 (Div. 2)</h1>
<ul>
<li><a href="http://codeforces.com/contest/621" target="_blank">contest link</a>  
</li>
</ul>
<p>　　CF#341，难度一般，全是数学题！！！ :joy: <br>
　　最近对于这种非常规的出题方式实在是感到很无力，不过比赛时确实是智商感人，什么都想不到。涉及的数学知识不难，D题比较坑，其他题都是会者不难。  
</p>
<ul>
<li>
<h2><a href="http://codeforces.com/contest/621/problem/A" target="_blank">621A-Wet Shark and Odd and Even</a></h2>
<p>题意：<br>
　　给出N个数，求其最大偶数和。<br>
解法：<br>
　　<code>奇+偶=奇</code>，<code>偶+偶=偶</code>，<code>奇-偶=奇</code>，<code>奇-奇=偶</code><br>
　　如果总和是奇数，那么至少N个数中有一个奇数；然后要知道从这N个数中剔除偶数是没有意义的。所以做法就是从总和中减去最小奇数，没有奇数的话就不减了。
  　　
  　　<br>
  <a href="https://github.com/zhyack/Codeforces/blob/master/621_Round%20%23341(Div.%202)/621A.cpp" target="_blank">code</a>  
</p>
</li>
<li>
<h2><a href="http://codeforces.com/contest/621/problem/B" target="_blank">621B-Wet Shark and Bishops</a></h2>
<p>题意：<br>
　　1000*1000的棋盘，放N个国际象棋的象，求其相互攻击的象的对数。<br>
解法：<br>
　　N^2两两判断当然是不行的，但注意相互攻击的象必然是一条斜线上的，那就遍历棋盘中所有的斜线，也就2000条左右，对于某条斜线上有x个象的话，<code>ans+=(x-1)*x/2</code>，当然这样写起来很蠢的。<br>
　　要注意到每条斜线要么是x+y一致，要么是x-y一致，所以根据这两个值统计即可。附上我智商不够只能用复制粘贴弥补的渣代码。
  　　
  　　
  　　<br>
  <a href="https://github.com/zhyack/Codeforces/blob/master/621_Round%20%23341(Div.%202)/621B.cpp" target="_blank">code</a>  
</p>
</li>
<li>
<h2><a href="http://codeforces.com/contest/621/problem/C" target="_blank">621C-Wet Shark and Flowers</a></h2>
<p>题意：<br>
　　N个人坐成圆桌，每个人可以随机一个[li,ri]的数字，对于每两个相邻的人来说，如果任一个人的数字可以整除P，则两个人均可获得1000刀的奖励。问所有人的期望奖励值。<br>
解法：<br>
　　单独就每个人的期望考虑，然后加和即可。比如对于第<code>i</code>个人，如果他持有的数字可以被P整除，那么无论是<code>(i,i+1)</code>，还是<code>(i,i-1)</code>，他都可以获得1000；如果他持有的数字不能被P整除，那么只有第<code>i+1</code>个人持有的数字可以被P整除，第<code>i</code>个人才能获得<code>(i,i+1)</code>提供的1000，只有第<code>i-1</code>个人持有的数字可以被P整除，第<code>i</code>个人才能获得<code>(i,i-1)</code>提供的1000。<br>
　　所以我们要求出的是对于每个人来说，他持有的数字可以被P整除的概率<code>p[i]</code>，显然<code>p[i] = (r[i]/P-(l[i]-1)/P)/(r[i]-l[i]+1)</code>。然后对于第i个人，他获得奖励的期望即是<code>p[i]*2000 + (1-p[i])*p[i+1]*1000 + (1-p[i])*p[i-1]*1000</code>。  　　
  　　
  　　<br>
  <a href="https://github.com/zhyack/Codeforces/blob/master/621_Round%20%23341(Div.%202)/621C.cpp" target="_blank">code</a>  
</p>
</li>
<li>
<h2><a href="http://codeforces.com/contest/621/problem/D" target="_blank">621D-Rat Kwesh and Cheese</a></h2>
<p>题意：<br>
　　给出0.1&lt;=x,y,z&lt;=200，求题目中的12个式子的最大值对应的式子。<br>
解法：<br>
　　废话不多说，基本上就是对每个式子求两遍log，然后就能把数值控制在可接受范围内。需要注意的是：比如第一个式子两次log之后是<code>z*log(y)+log(log(x))</code>，如果<code>x&lt;=1</code>的话<code>log(x)&lt;=0</code>，<code>log(log(x))</code>就呵呵了，所以需要注意各种<code>&lt;=1</code>的情况。<br>
　　还好情况不算很复杂，因为如果<code>x&lt;=1,y&lt;=1,z&lt;=1</code>，还log什么，直接pow算不就得了。否则只要存在任一x或y或z大于1，比如<code>x&gt;1，y&lt;=1，z&lt;=1</code>，那么x为底的式子一定是值大于1的，而y,z对应的式子都是小于等于1的，所以y，z的式子都不予考虑，其他类似情况如法炮制。具体操作见代码。<br>
　　不过话说我之前把各种<code>&lt;=1</code>写成<code>&lt;1</code>竟然也过了，log(0)，嗯 :anguished: ...
  　　
  　　
  　　<br>
  <a href="https://github.com/zhyack/Codeforces/blob/master/621_Round%20%23341(Div.%202)/621D.cpp" target="_blank">code</a>  
</p>
</li>
<li>
<h2><a href="http://codeforces.com/contest/621/problem/E" target="_blank">621E-Wet Shark and Blocks</a></h2>
<p>题意：<br>
　　给N个数字，每次从中挑出一个数字，共挑B次，依次组成一个大数，如果大数除X后等于K，那么算是一种合法情况，求合法情况的个数。<br>
解法：<br>
　　<code>dp[i][j]</code>表示前i个数字组成的大数除X后等于j的方案数，<code>a[i]</code>表示给出的N个数中数字i的个数，显然<code>dp[i][j] = ∑dp[i-1][k]*a[d]</code>，其中<code>(k*10+d)%X = j</code>。但是B太大了，这个dp需要优化。<br>
　　这种形式(* 和∑)很容易可以想到矩阵乘法，所以向量v(1* X)，<code>v[i]</code>表示当前求得余数i的方案数，矩阵mat(X* X)，<code>mat[k][j]</code>表示从当前状态余数k转移到下一个状态余数j的方案数，显然<code>mat[k][j] = ∑a[d]</code>，其中<code>(k*10+d)%X = j</code>。所以B次转移之后的结果应该是初始向量v0(只有<code>v0[0] = 1</code>，其他均是0)，<code>vB = v0*(mat)^B</code>，答案要的是<code>vB[K]</code>。<code>(mat)^B</code>用快速幂来做，不再赘述。总体复杂度是O(K^3*logN)。
  　　
  　　<br>
  <a href="https://github.com/zhyack/Codeforces/blob/master/621_Round%20%23341(Div.%202)/621E.cpp" target="_blank">code</a></p></li></ul>
      </section>
      <!-- InstanceEndEditable -->
	  <section>
	    <div id="disqus_thread"></div>
	    <script>
        /**
        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        var disqus_config = function () {
        this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
		
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//zhyack.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
	    <noscript>
	      Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
	      </noscript>
	    </section>
    </div>
    <script src="https://des-payfor.github.io/javascripts/emojify.min.js"></script>
    <script src="https://des-payfor.github.io/javascripts/emojify.run.js"></script>
    <script src="../javascripts/scale.fix.js"></script>
</body>
<!-- InstanceEnd --></html>
