<!doctype html>
<html><!-- InstanceBegin template="/Templates/template.dwt" codeOutsideHTMLIsLocked="false" -->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <script type="text/javascript">
		var targetProtocol = "https:";
		if (window.location.protocol != "file:" && window.location.protocol != targetProtocol)
		window.location.href = targetProtocol +
		window.location.href.substring(window.location.protocol.length);
	</script>
    <!-- InstanceBeginEditable name="doctitle" -->
    <title>zhy's blog|简单的Git起步指南</title>
    <!-- InstanceEndEditable -->
    <link rel="shortcut icon" href="../pics/favicon.ico"/>
	<link rel="bookmark" href="../pics/favicon.ico"/>
    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/github-light.css">
	<script src='https://des-payfor.github.io/mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <!-- InstanceBeginEditable name="head" -->
  <!-- InstanceEndEditable -->
</head>
  <body>
    <div class="wrapper">
      <header>
        <h1 align="center"><a href="https://zhyack.github.io/" target="_self">Zhy's Blog~</a></h1>
        <p align="center"><a href="https://zhyack.github.io/"><img src = "../pics/Profile.jpg" width="225" height="225"></a></p>


        <p class="view" align="center"><a href="https://github.com/zhyack">View My GitHub Profile</a></p>
        <div>
        <table width=100% border="0">
          <tbody>
            <tr>
              <td height="150">
              <a href="../archive.html"><div class="topiccenter">Archive</div></a>
              <a href="../categories.html"><div class="topiccenter">Categories</div></a>
              <a href="../about.html"><div class="topiccenter">About</div></a>
              <div class="topiccenter"><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1256825058'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1256825058%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></div>
              </td>  
            </tr>
          </tbody>
        </table>
        </div>
      </header>
      <!-- InstanceBeginEditable name="EditArea" -->
      <section>
<h1 id="-git-">简单的Git起步指南</h1>
<ul>
<li><h2 id="-git-">何为Git？</h2>
<p><a href="https://git-scm.com/" target="_blank">Git</a>是一种一般用于管理代码的版本控制系统，与之处于同一level上的还有svn，cvs等。它既可以在本地使用，又可以通过网络服务器进行远程管理，常见的远程服务供应商有github和bitbucket等。<br>当然对于刚起步者来说，也可以简单地将git看作这么一个东西：<br><img src="../pics/git-01.png" alt="git"><br>这个隐藏文件夹一般都会是你整个repo（仓库——表示一整个项目，本地会存储在对应项目名的文件夹下）中最占空间的，但要知道它包含着你以往所有commit过的版本信息，只要这个文件夹完整，你的历史commit过的各个版本永远都不会丢。</p>
</li><li><h2 id="-github-">为什么使用Github？</h2>
<p>原因很简单——永远不要把鸡蛋放在一个篮子里。放在本地的git仓库随时都面临着各种可能导致数据丢失的危险，一旦关键的<code>.git</code>数据丢失，以往的版本都将一去不复返，更何况一般丢数据都是整个项目一起挂掉的。  </p>
<ul>
<li>如果使用U盘/硬盘/云盘进行数据备份，那会面临着备份繁琐，容易忘记备份时间、版本，以及系统提示你对于同名文件是替换还是跳过的窘境，当然还有一种更囧的场景——你将文件A改名为文件B，备份时系统也没提示你是否替换或跳过，结果你的备份里就莫名多了一个垃圾文件... 使用git可以很大程度上解决以上问题。git会根据你当前的版本信息<code>&lt;HEAD&gt;</code>，以及你当前本地文件信息，判断出你到底做出了哪些改动；通过将改动<code>add</code>到<code>&lt;HEAD&gt;</code>中，就会更新到你的新版本信息中，然后通过<code>commit</code>即可生成新的版本，这整个过程是增量式的，不会说改动后还存在任何垃圾，而且所有的改动只需正常在本地添加、删除、修改文件即可。当然，git也并不是万能的，在<code>merge</code>两个版本时它也会面临着不可能完美解决的问题——两个版本的文件保留哪个？但git会产生<code>diff</code>信息，以便于手工选择保留的部分。</li><li>作为git的网络服务供应商，<a href="https://github.com" target="_blank">github</a>可谓是最大的开源代码共享平台，其开源项目之多，以及完美的<code>fork</code>机制，漂亮实用的界面，还有<code>gist</code>等功能，无疑是开源项目搭载平台的首选。但其免费功能中不包括私有仓库，也就是说你的所有代码都是公开的。如果有私有仓库的需求，推荐<a href="https://bitbucket.org" target="_blank">bitbucket</a>，对于个人或者小团体的私有项目可以充分满足需求，而且有国内的cdn，访问速度比github快。当然，两个网站都支持搭建个人主页，可参见<a href="https://zhyack.github.io/posts/2015_11_23_How-To-Build-Your-Blog-On-Github-Pages.html" target="_blank">我的博客</a>搭建笔记。  </li></ul>
</li></ul>
<blockquote>
<p>以下部分都以github平台为例。</p>
</blockquote>
<ul>
<li><h2 id="git-">git安装&amp;配置</h2>
<a href="https://git-scm.com/downloads" target="_blank">git下载</a><br>国内下载可能会慢的出奇，迅雷也许可以快点...<ul>
<li>下载完成后无脑安装，配置都默认就可以，提示安装git-bash时推荐安装。</li><li>安装完成后打开git-bash即可使用git的各种命令了。</li><li>为了在Windows的cmd和powershell方便地用git命令，将git路径<code>C:\Program Files\Git\cmd</code>添加到环境变量中去。</li><li>首次使用git时可能会提示输入用户名和邮箱，好好填写（认真脸.jpg）：<pre><code>git config --global user.name "username"
git config --global user.email "email"
</code></pre></li></ul>
</li><li><h2 id="-">新建仓库</h2>
<p>github右上角<br><img src="../pics/git-02.png" alt="new repo"><br><img src="../pics/git-03.png" alt="new repo"><br>然后导入到本地即可编辑</p>
</li><li><h2 id="-">导入仓库</h2>
<p>github和bitbucket的仓库中都会提供https链接和ssh链接以供导入<br><img src="../pics/git-04.png" alt="https"><br><img src="../pics/git-05.png" alt="ssh"><br>区别在于https无须任何设置，但任何远程操作需要提供账号密码作为凭据； ssh需要在本地生产ssh-key，这样你的机器拥有唯一的key可以免账号密码验证直接与远程交互。入门推荐https。<br>本地git-bash或cmd中在合适位置使用类似<strong>git clone</strong> <code>https://github.com/zhyack/test.git</code>的命令从github上获取仓库内容，链接换成自己的。<br><img src="../pics/git-06.png" alt="git clone"><br><img src="../pics/git-07.png" alt="empty repo"><br>这样远程的仓库就拿到本地了。</p>
</li><li><h2 id="-">当前版本信息</h2>
<p>使用<strong>git status</strong>查看当前处于哪个分支，以及本地文件改动情况。<br><img src="../pics/git-08.png" alt="status"></p>
</li><li><h2 id="-">添加/回撤本地改动</h2>
<ul>
<li>使用<strong>git add</strong>将本地改动添加到<code>&lt;HEAD&gt;</code>中，添加个别文件用<code>git add &lt;file path&gt;</code>，但一般都是添加所有改动<code>git add .</code><br><img src="../pics/git-09.png" alt="add"></li><li>如果还未使用<code>git add</code>添加改动，但又后悔对某个文件的改动，可以使用<code>git checkout &lt;file path&gt;</code>对文件进行回撤</li><li>如果已经使用了<code>git add</code>，但又后悔所做的改动，可以使用<code>git reset HEAD</code>使<code>&lt;HEAD&gt;</code>回滚到原来的状态，但文件内容是没有发生改变的。</li></ul>
</li><li><h2 id="-">提交/回撤本地改动</h2>
<ul>
<li>在<code>git add</code>之后如果确定要提交/保存这次改动就使用<strong>git commit</strong>进行提交，一般命令形式为<code>git commit -m "..."</code>，其中最后的字串为附加信息，随意填写。</li><li>在使用<code>git commit</code>之后会产生一个版本号<code>commit_id</code>，历史的版本号可以使用<code>git log</code>查看到，如果后悔了最近的某一次/几次提交，可以使用<code>git reset --hard commit_id</code>来进行回撤，但注意<strong>--hard 回撤会删除对应commit的所有改动，无法找回</strong>；如果只是想将版本号前移而不希望本地文件有任何改动，可以不加<code>--hard</code>，也就是<code>git reset commit_id</code>，但回撤掉的<code>commits</code>还是无法找回的。<br><img src="../pics/git-10.png" alt="commit"></li></ul>
</li><li><h2 id="-github">提交/同步到Github</h2>
<ul>
<li>使用<strong>git push</strong>命令对本地的commit向远程服务器进行提交，一般来说默认的分支是<code>origin/master</code>，所以提交的命令为<code>git push origin master</code><br><img src="../pics/git-11.png" alt="push"></li><li>如果你有两台机器维护一个仓库，那么就会有这样一个问题——一台机器改动之后，另一台机器上的文件是不会跟着改动的，导致两个本地之间，本地和远程之间的不同步。如果是这种情况，在其中一台本地机器上进行<code>git push</code>之后，要记得在另外一台机器做出本地改动之前进行<strong>git pull</strong>来同步远程，一般命令为<code>git pull origin master</code>，否则你可能会面临着要手动<code>merge</code>的窘境。</li></ul>
</li></ul>
<blockquote>
<p>以上内容可以满足基本需求，体验git的更多便利可以继续往下看...</p>
</blockquote>
<ul>
<li><h2 id="-">多分支</h2>
<ul>
<li>使用<strong>git branch $branch_name</strong>来创建新的分支</li><li>使用<strong>git checkout $branch_name</strong>来切换分支，但切换之前必须将当前分支的改动commit掉</li><li>多分支的作用——临时改动（测试），多版本分工，保留历史版本等等</li><li>具体可根据<a href="https://git-scm.com/book/zh/v1/Git-%E5%88%86%E6%94%AF-%E5%88%86%E6%94%AF%E7%9A%84%E6%96%B0%E5%BB%BA%E4%B8%8E%E5%90%88%E5%B9%B6" target="_blank">官方教程</a>做一遍，就可以简单应用了。</li></ul>
</li><li><h2 id="-gitignore">.gitignore</h2>
<ul>
<li>本地的代码运行时可能产生一些工程文件、编译文件、可执行程序等，这是我们不希望保存和上传的，可以借助<strong>.gitignore</strong>来实现对<code>git add</code>的控制，具体参见<a href="https://zhyack.github.io/posts/2016_06_14-Gitignore.html" target="_blank">博文</a></li></ul>
</li><li><h2 id="fork-pull-request">fork &amp; pull request</h2>
<ul>
<li>fork会保留原作者信息，在fork后的仓库中有指向原仓库的链接</li><li>fork后的仓库归自己所有，在本地显示的branch是<code>origin/master</code>，不会影响原仓库；但如果你认为你的改动有助于原项目的改善，可以向原项目发送<code>pull request</code>，原仓库的持有者会受到消息并判断是否要将你的改动并入原仓库。</li><li>其实也可以看作是<code>fork</code>原分支是在你的账户下的一个远程分支，原仓库的持有者可以选择是否<code>merge</code>。</li></ul>
</li><li><h2 id="-">概览</h2>
<img src="../pics/git-00.png" alt="概览"></li></ul>
      </section>
      <!-- InstanceEndEditable -->
	  <section>
	    <div id="disqus_thread"></div>
	    <script>
        /**
        * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
        * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
        */
        var disqus_config = function () {
        this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
        };
		
        (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//zhyack.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
        })();
        </script>
	    <noscript>
	      Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
	      </noscript>
	  </section>

      <section>
          <font size="-1" color="#BAD5F5">© 个人原创，未经允许，不得转载！</font>
        <p class="pl-ent">Copyright © 2015-2016 <a href="https://github.com/zhyack">zhyack</a>. All Rights Reserved.</p>
        <font size="-1" color="#FF00FF">如对文章有任何疑问，请移步<a href = "https://zhyack.github.io/Q&A.html">问题聚集区</a>一览~</font>
        <p class="pl-ent"><br>
            </br>
          </p>
      </section>
    </div>
    <script src="https://des-payfor.github.io/javascripts/emojify.min.js"></script>
    <script src="https://des-payfor.github.io/javascripts/emojify.run.js"></script>
    <script src="../javascripts/scale.fix.js"></script>
</body>
<!-- InstanceEnd --></html>
